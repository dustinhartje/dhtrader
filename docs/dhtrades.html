<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module dhtrades</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>dhtrades</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/home/dusty/git/dhtrader/dhtrades.py">/home/dusty/git/dhtrader/dhtrades.py</a></font></td></tr></table>
    <p></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="dhcharts.html">dhcharts</a><br>
<a href="dhstore.html">dhstore</a><br>
</td><td width="25%" valign=top><a href="dhutil.html">dhutil</a><br>
<a href="json.html">json</a><br>
</td><td width="25%" valign=top><a href="logging.html">logging</a><br>
</td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="builtins.html#object">builtins.object</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="dhtrades.html#Backtest">Backtest</a>
</font></dt><dt><font face="helvetica, arial"><a href="dhtrades.html#Trade">Trade</a>
</font></dt><dt><font face="helvetica, arial"><a href="dhtrades.html#TradeSeries">TradeSeries</a>
</font></dt></dl>
</dd>
</dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Backtest">class <strong>Backtest</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt><a href="#Backtest">Backtest</a>(start_dt,&nbsp;end_dt,&nbsp;timeframe:&nbsp;str,&nbsp;trading_hours:&nbsp;str,&nbsp;symbol,&nbsp;name:&nbsp;str,&nbsp;parameters:&nbsp;dict,&nbsp;bt_id:&nbsp;str&nbsp;=&nbsp;None,&nbsp;class_name:&nbsp;str&nbsp;=&nbsp;'<a href="#Backtest">Backtest</a>',&nbsp;chart_tf=None,&nbsp;chart_1m=None,&nbsp;autoload_charts:&nbsp;bool&nbsp;=&nbsp;False,&nbsp;prefer_stored:&nbsp;bool&nbsp;=&nbsp;True,&nbsp;tradeseries:&nbsp;list&nbsp;=&nbsp;None)<br>
&nbsp;<br>
Represents&nbsp;a&nbsp;backtest&nbsp;that&nbsp;can&nbsp;be&nbsp;run&nbsp;with&nbsp;specific&nbsp;parameters.&nbsp;&nbsp;This<br>
is&nbsp;a&nbsp;parent&nbsp;class&nbsp;containing&nbsp;core&nbsp;functionality&nbsp;and&nbsp;likely&nbsp;won't&nbsp;be&nbsp;used<br>
to&nbsp;run&nbsp;backtests&nbsp;directly.&nbsp;&nbsp;Subclasses&nbsp;should&nbsp;be&nbsp;created&nbsp;with&nbsp;updated<br>
methods&nbsp;and&nbsp;parameters&nbsp;representing&nbsp;the&nbsp;specific&nbsp;rules&nbsp;of&nbsp;the&nbsp;backtests<br>
being&nbsp;performed.<br>
&nbsp;<br>
Attributes:<br>
&nbsp;&nbsp;&nbsp;&nbsp;start_dt&nbsp;(str&nbsp;or&nbsp;datetime):&nbsp;Beginning&nbsp;of&nbsp;time&nbsp;period&nbsp;evaluated&nbsp;which<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;may&nbsp;be&nbsp;earlier&nbsp;than&nbsp;the&nbsp;first&nbsp;trade&nbsp;datetime<br>
&nbsp;&nbsp;&nbsp;&nbsp;end_dt&nbsp;(str&nbsp;or&nbsp;datetime):&nbsp;End&nbsp;of&nbsp;time&nbsp;period&nbsp;evaluated<br>
&nbsp;&nbsp;&nbsp;&nbsp;timeframe&nbsp;(str):&nbsp;timeframe&nbsp;of&nbsp;underlying&nbsp;chart&nbsp;trades&nbsp;were&nbsp;evaluated<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;on<br>
&nbsp;&nbsp;&nbsp;&nbsp;trading_hours&nbsp;(str):&nbsp;whether&nbsp;to&nbsp;run&nbsp;trades&nbsp;during&nbsp;regular&nbsp;trading<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hours&nbsp;only&nbsp;('rth')&nbsp;or&nbsp;include&nbsp;extended/globex&nbsp;hours&nbsp;('eth')<br>
&nbsp;&nbsp;&nbsp;&nbsp;symbol&nbsp;(str&nbsp;or&nbsp;dhcharts.Symbol):&nbsp;The&nbsp;symbol&nbsp;or&nbsp;"ticker"&nbsp;being<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;evaluated.&nbsp;&nbsp;If&nbsp;passed&nbsp;as&nbsp;a&nbsp;str,&nbsp;the&nbsp;<a href="builtins.html#object">object</a>&nbsp;will&nbsp;fetch&nbsp;the&nbsp;symbol<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;matching&nbsp;'name'.<br>
&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;(str):&nbsp;Human&nbsp;friendly&nbsp;label&nbsp;representing&nbsp;this&nbsp;<a href="builtins.html#object">object</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;class_name&nbsp;(str):&nbsp;attrib&nbsp;to&nbsp;identify&nbsp;subclass,&nbsp;primarily&nbsp;used&nbsp;by<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storage&nbsp;functions&nbsp;to&nbsp;reassemble&nbsp;retrieved&nbsp;data&nbsp;into&nbsp;the&nbsp;correct<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="builtins.html#object">object</a>&nbsp;type<br>
&nbsp;&nbsp;&nbsp;&nbsp;parameters&nbsp;(dict):&nbsp;<a href="#Backtest">Backtest</a>&nbsp;specific&nbsp;parameters&nbsp;needed&nbsp;to&nbsp;evaluate.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;These&nbsp;will&nbsp;vary&nbsp;and&nbsp;be&nbsp;handled&nbsp;by&nbsp;subclases&nbsp;typically.<br>
&nbsp;&nbsp;&nbsp;&nbsp;bt_id&nbsp;(str):&nbsp;unique&nbsp;ID&nbsp;used&nbsp;for&nbsp;storage&nbsp;and&nbsp;analysis&nbsp;purposes,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;link&nbsp;related&nbsp;<a href="#TradeSeries">TradeSeries</a>()&nbsp;and&nbsp;Analyzer()&nbsp;objects<br>
&nbsp;&nbsp;&nbsp;&nbsp;chart_tf&nbsp;(dhcharts.Chart):&nbsp;Underlying&nbsp;chart&nbsp;used&nbsp;for&nbsp;evaluation&nbsp;at<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;same&nbsp;tf&nbsp;as&nbsp;<a href="#Backtest">Backtest</a>&nbsp;<a href="builtins.html#object">object</a>.&nbsp;&nbsp;This&nbsp;is&nbsp;typically&nbsp;used&nbsp;to&nbsp;evaluate<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;timeframe&nbsp;specific&nbsp;candle&nbsp;patterns&nbsp;and&nbsp;attributes&nbsp;that&nbsp;may&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;needed&nbsp;by&nbsp;the&nbsp;specific&nbsp;backtest&nbsp;rules.<br>
&nbsp;&nbsp;&nbsp;&nbsp;chart_1m&nbsp;(dhcharts.Chart):&nbsp;underlying&nbsp;1m&nbsp;chart&nbsp;is&nbsp;tyipcally&nbsp;used&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combination&nbsp;with&nbsp;chart_tf&nbsp;to&nbsp;find&nbsp;specific&nbsp;entries&nbsp;and&nbsp;exits&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;build&nbsp;<a href="#Trade">Trade</a>()&nbsp;objects.<br>
&nbsp;&nbsp;&nbsp;&nbsp;autoload_charts&nbsp;(bool):&nbsp;Whether&nbsp;to&nbsp;automatically&nbsp;load&nbsp;chart_tf&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chart_1m&nbsp;from&nbsp;central&nbsp;storage&nbsp;at&nbsp;creation<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;creation&nbsp;(default&nbsp;True)<br>
&nbsp;&nbsp;&nbsp;&nbsp;prefer_stored&nbsp;(bool):&nbsp;If&nbsp;a&nbsp;backtest&nbsp;with&nbsp;the&nbsp;same&nbsp;bt_id&nbsp;is&nbsp;in&nbsp;storage,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configure&nbsp;this&nbsp;<a href="builtins.html#object">object</a>&nbsp;with&nbsp;it's&nbsp;configuration&nbsp;rather&nbsp;than&nbsp;creating<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;new&nbsp;backtest&nbsp;(default&nbsp;True)<br>
&nbsp;&nbsp;&nbsp;&nbsp;tradeseries&nbsp;(list):&nbsp;List&nbsp;of&nbsp;<a href="#TradeSeries">TradeSeries</a>()&nbsp;objects&nbsp;which&nbsp;will&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;created&nbsp;when&nbsp;the&nbsp;<a href="#Backtest">Backtest</a>&nbsp;is&nbsp;run<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="Backtest-__eq__"><strong>__eq__</strong></a>(self, other)</dt><dd><tt>Return&nbsp;self==value.</tt></dd></dl>

<dl><dt><a name="Backtest-__init__"><strong>__init__</strong></a>(self, start_dt, end_dt, timeframe: str, trading_hours: str, symbol, name: str, parameters: dict, bt_id: str = None, class_name: str = 'Backtest', chart_tf=None, chart_1m=None, autoload_charts: bool = False, prefer_stored: bool = True, tradeseries: list = None)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="Backtest-__ne__"><strong>__ne__</strong></a>(self, other)</dt><dd><tt>Return&nbsp;self!=value.</tt></dd></dl>

<dl><dt><a name="Backtest-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Return&nbsp;repr(self).</tt></dd></dl>

<dl><dt><a name="Backtest-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Return&nbsp;str(self).</tt></dd></dl>

<dl><dt><a name="Backtest-calculate"><strong>calculate</strong></a>(self)</dt><dd><tt>This&nbsp;class&nbsp;should&nbsp;be&nbsp;updated&nbsp;in&nbsp;subclasses&nbsp;to&nbsp;run&nbsp;whatever&nbsp;logic&nbsp;is<br>
needed&nbsp;to&nbsp;transform&nbsp;the&nbsp;chart_*&nbsp;attributes&nbsp;into&nbsp;multiple&nbsp;<a href="#TradeSeries">TradeSeries</a><br>
using&nbsp;parameters&nbsp;supplied.&nbsp;&nbsp;This&nbsp;will&nbsp;vary&nbsp;greatly&nbsp;from&nbsp;one&nbsp;type&nbsp;of<br>
backtest&nbsp;to&nbsp;another.&nbsp;&nbsp;At&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;run&nbsp;it&nbsp;will&nbsp;likely&nbsp;need&nbsp;to<br>
also&nbsp;store&nbsp;the&nbsp;<a href="#Backtest">Backtest</a>&nbsp;<a href="builtins.html#object">object</a>&nbsp;along&nbsp;with&nbsp;it's&nbsp;child&nbsp;<a href="#TradeSeries">TradeSeries</a>&nbsp;and<br>
grandchild&nbsp;Trades.</tt></dd></dl>

<dl><dt><a name="Backtest-config_from_storage"><strong>config_from_storage</strong></a>(self)</dt><dd><tt>This&nbsp;class&nbsp;should&nbsp;be&nbsp;updated&nbsp;in&nbsp;subclasses&nbsp;to&nbsp;allow&nbsp;retrieval&nbsp;and<br>
configuration&nbsp;of&nbsp;itself&nbsp;from&nbsp;storage&nbsp;if&nbsp;there&nbsp;is&nbsp;a&nbsp;matching&nbsp;bt_id<br>
stored.&nbsp;&nbsp;Otherwise&nbsp;it&nbsp;should&nbsp;do&nbsp;nothing&nbsp;as&nbsp;the&nbsp;<a href="builtins.html#object">object</a>&nbsp;has&nbsp;already<br>
been&nbsp;created&nbsp;and&nbsp;configured&nbsp;by&nbsp;__init__&nbsp;by&nbsp;the&nbsp;time&nbsp;it&nbsp;gets&nbsp;here.<br>
&nbsp;<br>
Note&nbsp;that&nbsp;in&nbsp;most&nbsp;cases&nbsp;this&nbsp;should&nbsp;by&nbsp;default&nbsp;also&nbsp;load&nbsp;any<br>
<a href="#TradeSeries">TradeSeries</a>&nbsp;that&nbsp;exist&nbsp;in&nbsp;storage&nbsp;and&nbsp;their&nbsp;associated&nbsp;Trades&nbsp;though<br>
this&nbsp;could&nbsp;be&nbsp;suppressed&nbsp;by&nbsp;a&nbsp;feature&nbsp;flag&nbsp;if&nbsp;desired&nbsp;in&nbsp;the&nbsp;subclass.</tt></dd></dl>

<dl><dt><a name="Backtest-count_trades"><strong>count_trades</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;number&nbsp;of&nbsp;Trades&nbsp;currently&nbsp;attached</tt></dd></dl>

<dl><dt><a name="Backtest-count_tradeseries"><strong>count_tradeseries</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;number&nbsp;of&nbsp;<a href="#TradeSeries">TradeSeries</a>&nbsp;currently&nbsp;attached</tt></dd></dl>

<dl><dt><a name="Backtest-delete_from_storage"><strong>delete_from_storage</strong></a>(self, include_tradeseries: bool = True, include_trades: bool = True)</dt><dd><tt>Delete&nbsp;this&nbsp;<a href="builtins.html#object">object</a>&nbsp;from&nbsp;central&nbsp;storage&nbsp;if&nbsp;it&nbsp;exists&nbsp;by&nbsp;bt_id.<br>
Optionally&nbsp;(default=True)&nbsp;also&nbsp;remove&nbsp;all&nbsp;<a href="#TradeSeries">TradeSeries</a>&nbsp;and&nbsp;<a href="#Trade">Trade</a>&nbsp;objects<br>
matching&nbsp;this&nbsp;<a href="builtins.html#object">object</a>'s&nbsp;bt_id.</tt></dd></dl>

<dl><dt><a name="Backtest-incorporate_parameters"><strong>incorporate_parameters</strong></a>(self)</dt><dd><tt>This&nbsp;class&nbsp;should&nbsp;be&nbsp;updated&nbsp;in&nbsp;subclasses&nbsp;to&nbsp;run&nbsp;whatever&nbsp;logic&nbsp;is<br>
needed&nbsp;to&nbsp;validate&nbsp;any&nbsp;subclass-specific&nbsp;parameters&nbsp;and&nbsp;set&nbsp;them&nbsp;up<br>
as&nbsp;attributes&nbsp;on&nbsp;the&nbsp;<a href="builtins.html#object">object</a>.&nbsp;This&nbsp;will&nbsp;vary&nbsp;greatly&nbsp;from&nbsp;one&nbsp;type&nbsp;of<br>
backtest&nbsp;to&nbsp;another.</tt></dd></dl>

<dl><dt><a name="Backtest-load_charts"><strong>load_charts</strong></a>(self)</dt><dd><tt>Load&nbsp;a&nbsp;Chart&nbsp;based&nbsp;on&nbsp;this&nbsp;<a href="builtins.html#object">object</a>'s&nbsp;datetimes,&nbsp;symbol,&nbsp;and<br>
timeframe&nbsp;arguments.&nbsp;&nbsp;This&nbsp;will&nbsp;be&nbsp;the&nbsp;base&nbsp;data&nbsp;for&nbsp;calculating<br>
trades.&nbsp;&nbsp;This&nbsp;method&nbsp;also&nbsp;restricts&nbsp;the&nbsp;<a href="#Backtest">Backtest</a>'s&nbsp;timeframe&nbsp;(start_dt<br>
and&nbsp;end_dt&nbsp;attributes)&nbsp;to&nbsp;match&nbsp;the&nbsp;earliest&nbsp;and&nbsp;latest&nbsp;1m&nbsp;candles<br>
available&nbsp;from&nbsp;storage&nbsp;to&nbsp;ensure&nbsp;future&nbsp;updates&nbsp;do&nbsp;not&nbsp;leave<br>
calculation&nbsp;gaps&nbsp;where&nbsp;valid&nbsp;candles&nbsp;were&nbsp;not&nbsp;yet&nbsp;available&nbsp;on&nbsp;earlier<br>
runs.</tt></dd></dl>

<dl><dt><a name="Backtest-load_tradeseries"><strong>load_tradeseries</strong></a>(self)</dt><dd><tt>Attaches&nbsp;any&nbsp;<a href="#TradeSeries">TradeSeries</a>&nbsp;and&nbsp;their&nbsp;linked&nbsp;trades&nbsp;that&nbsp;are&nbsp;found&nbsp;in<br>
storage&nbsp;and&nbsp;which&nbsp;match&nbsp;this&nbsp;<a href="builtins.html#object">object</a>'s&nbsp;bt_id.&nbsp;&nbsp;This&nbsp;will&nbsp;replace&nbsp;any<br>
currently&nbsp;attached&nbsp;tradeseries.</tt></dd></dl>

<dl><dt><a name="Backtest-pretty"><strong>pretty</strong></a>(self, suppress_tradeseries: bool = True, suppress_trades: bool = True, suppress_charts: bool = True, suppress_chart_candles: bool = True)</dt><dd><tt>Attempts&nbsp;to&nbsp;return&nbsp;an&nbsp;indented&nbsp;multiline&nbsp;version&nbsp;of&nbsp;this&nbsp;<a href="builtins.html#object">object</a>,<br>
meant&nbsp;to&nbsp;provide&nbsp;an&nbsp;easy&nbsp;to&nbsp;read&nbsp;output&nbsp;for&nbsp;console&nbsp;or&nbsp;other&nbsp;purposes.<br>
Optionally&nbsp;suppress_datapoints&nbsp;to&nbsp;reduce&nbsp;output&nbsp;size&nbsp;when&nbsp;not&nbsp;needed.</tt></dd></dl>

<dl><dt><a name="Backtest-remove_tradeseries"><strong>remove_tradeseries</strong></a>(self, ts_id, clear_storage: bool = True)</dt><dd><tt>Removes&nbsp;any&nbsp;<a href="#TradeSeries">TradeSeries</a>&nbsp;with&nbsp;the&nbsp;given&nbsp;ts_id&nbsp;from&nbsp;the&nbsp;<a href="#Backtest">Backtest</a>.<br>
Optionally&nbsp;remove&nbsp;<a href="#TradeSeries">TradeSeries</a>&nbsp;and&nbsp;it's&nbsp;Trades&nbsp;from&nbsp;storage&nbsp;as&nbsp;well<br>
(default&nbsp;=&nbsp;True).</tt></dd></dl>

<dl><dt><a name="Backtest-restrict_dates"><strong>restrict_dates</strong></a>(self, new_start_dt: str, new_end_dt: str, update_storage: bool = False)</dt><dd><tt>Reduce&nbsp;the&nbsp;datetime&nbsp;range&nbsp;of&nbsp;the&nbsp;<a href="#Backtest">Backtest</a>&nbsp;which&nbsp;will&nbsp;also&nbsp;reduce<br>
any&nbsp;attached&nbsp;<a href="#TradeSeries">TradeSeries</a>&nbsp;and&nbsp;remove&nbsp;any&nbsp;Trades&nbsp;that&nbsp;start&nbsp;ouside&nbsp;of<br>
the&nbsp;boundaries&nbsp;of&nbsp;the&nbsp;new&nbsp;range.&nbsp;&nbsp;Optionally&nbsp;pass&nbsp;update_storage=True<br>
to&nbsp;remove&nbsp;Trades&nbsp;and&nbsp;update&nbsp;dates&nbsp;on&nbsp;both&nbsp;<a href="#Backtest">Backtest</a>&nbsp;and&nbsp;it's&nbsp;linked<br>
<a href="#TradeSeries">TradeSeries</a>&nbsp;in&nbsp;storage&nbsp;(destructive)&nbsp;to&nbsp;make&nbsp;this&nbsp;permanent.<br>
Typically&nbsp;used&nbsp;to&nbsp;clean&nbsp;up&nbsp;failed&nbsp;partial&nbsp;calculation&nbsp;runs&nbsp;or,&nbsp;when<br>
non-destructive,&nbsp;to&nbsp;set&nbsp;up&nbsp;for&nbsp;analyzing&nbsp;a&nbsp;targetted&nbsp;timeframe&nbsp;of<br>
special&nbsp;interest&nbsp;within&nbsp;the&nbsp;longer&nbsp;<a href="#Backtest">Backtest</a>.</tt></dd></dl>

<dl><dt><a name="Backtest-sort_tradeseries"><strong>sort_tradeseries</strong></a>(self)</dt></dl>

<dl><dt><a name="Backtest-store"><strong>store</strong></a>(self, store_tradeseries: bool = True, store_trades: bool = True)</dt><dd><tt>Store&nbsp;the&nbsp;backtest&nbsp;and&nbsp;optionally&nbsp;any&nbsp;attached&nbsp;<a href="#TradeSeries">TradeSeries</a>&nbsp;and&nbsp;their<br>
attached&nbsp;Trades.&nbsp;&nbsp;This&nbsp;first&nbsp;deletes&nbsp;any&nbsp;of&nbsp;the&nbsp;same&nbsp;3&nbsp;<a href="builtins.html#object">object</a>&nbsp;types<br>
from&nbsp;storage&nbsp;with&nbsp;this&nbsp;<a href="#Backtest">Backtest</a>'s&nbsp;bt_id&nbsp;to&nbsp;ensure&nbsp;no&nbsp;duplication<br>
occurs.</tt></dd></dl>

<dl><dt><a name="Backtest-sub_eq"><strong>sub_eq</strong></a>(self, other)</dt><dd><tt>Placeholder&nbsp;method&nbsp;for&nbsp;subclasses&nbsp;to&nbsp;add&nbsp;additional&nbsp;attributes<br>
or&nbsp;conditions&nbsp;required&nbsp;to&nbsp;evaluate&nbsp;__eq__&nbsp;for&nbsp;this&nbsp;class.&nbsp;&nbsp;Any<br>
comparison&nbsp;of&nbsp;parameters&nbsp;should&nbsp;be&nbsp;done&nbsp;here&nbsp;as&nbsp;they&nbsp;are&nbsp;subclass<br>
specific.</tt></dd></dl>

<dl><dt><a name="Backtest-sub_to_json"><strong>sub_to_json</strong></a>(self, working)</dt><dd><tt>Placeholder&nbsp;for&nbsp;subclasses&nbsp;to&nbsp;normalize&nbsp;any&nbsp;additional&nbsp;attributes<br>
they&nbsp;may&nbsp;have&nbsp;added&nbsp;to&nbsp;make&nbsp;them&nbsp;also&nbsp;JSON&nbsp;serializable.</tt></dd></dl>

<dl><dt><a name="Backtest-to_clean_dict"><strong>to_clean_dict</strong></a>(self, suppress_tradeseries: bool = True, suppress_trades: bool = True, suppress_charts: bool = True, suppress_chart_candles: bool = True)</dt><dd><tt>Converts&nbsp;to&nbsp;JSON&nbsp;string&nbsp;then&nbsp;back&nbsp;to&nbsp;a&nbsp;python&nbsp;dict.&nbsp;&nbsp;This&nbsp;helps<br>
to&nbsp;normalize&nbsp;types&nbsp;(I'm&nbsp;looking&nbsp;at&nbsp;YOU&nbsp;datetime)&nbsp;while&nbsp;ensuring<br>
a&nbsp;portable&nbsp;python&nbsp;data&nbsp;structure</tt></dd></dl>

<dl><dt><a name="Backtest-to_json"><strong>to_json</strong></a>(self, suppress_tradeseries: bool = True, suppress_trades: bool = True, suppress_charts: bool = True, suppress_chart_candles: bool = True)</dt><dd><tt>returns&nbsp;a&nbsp;json&nbsp;version&nbsp;of&nbsp;this&nbsp;<a href="builtins.html#object">object</a>&nbsp;while&nbsp;normalizing<br>
custom&nbsp;types&nbsp;(like&nbsp;datetime&nbsp;to&nbsp;string)</tt></dd></dl>

<dl><dt><a name="Backtest-update_tradeseries"><strong>update_tradeseries</strong></a>(self, ts, clear_storage: bool = True)</dt><dd><tt>Add&nbsp;an&nbsp;existing&nbsp;<a href="#TradeSeries">TradeSeries</a>&nbsp;to&nbsp;this&nbsp;<a href="#Backtest">Backtest</a>,&nbsp;typically&nbsp;used<br>
for&nbsp;pulling&nbsp;results&nbsp;in&nbsp;from&nbsp;previous&nbsp;runs&nbsp;to&nbsp;update&nbsp;with&nbsp;new&nbsp;data.<br>
If&nbsp;a&nbsp;<a href="#TradeSeries">TradeSeries</a>&nbsp;with&nbsp;the&nbsp;same&nbsp;ts_id&nbsp;is&nbsp;already&nbsp;attached,&nbsp;this&nbsp;will<br>
replace&nbsp;it.&nbsp;&nbsp;clear_storage&nbsp;is&nbsp;passed&nbsp;to&nbsp;remove_tradeseries&nbsp;to&nbsp;delete<br>
the&nbsp;replaced&nbsp;<a href="#TradeSeries">TradeSeries</a>&nbsp;from&nbsp;storage&nbsp;when&nbsp;updating.</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<hr>
Data and other attributes defined here:<br>
<dl><dt><strong>__hash__</strong> = None</dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Trade">class <strong>Trade</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt><a href="#Trade">Trade</a>(open_dt:&nbsp;str,&nbsp;direction:&nbsp;str,&nbsp;timeframe:&nbsp;str,&nbsp;trading_hours:&nbsp;str,&nbsp;entry_price:&nbsp;float,&nbsp;close_dt:&nbsp;str&nbsp;=&nbsp;None,&nbsp;created_dt:&nbsp;str&nbsp;=&nbsp;None,&nbsp;open_epoch:&nbsp;int&nbsp;=&nbsp;None,&nbsp;high_price:&nbsp;float&nbsp;=&nbsp;None,&nbsp;low_price:&nbsp;float&nbsp;=&nbsp;None,&nbsp;exit_price:&nbsp;float&nbsp;=&nbsp;None,&nbsp;stop_target:&nbsp;float&nbsp;=&nbsp;None,&nbsp;prof_target:&nbsp;float&nbsp;=&nbsp;None,&nbsp;stop_ticks:&nbsp;int&nbsp;=&nbsp;None,&nbsp;prof_ticks:&nbsp;int&nbsp;=&nbsp;None,&nbsp;offset_ticks:&nbsp;int&nbsp;=&nbsp;0,&nbsp;symbol='ES',&nbsp;is_open:&nbsp;bool&nbsp;=&nbsp;True,&nbsp;profitable:&nbsp;bool&nbsp;=&nbsp;None,&nbsp;name:&nbsp;str&nbsp;=&nbsp;None,&nbsp;version:&nbsp;str&nbsp;=&nbsp;'1.0.0',&nbsp;ts_id:&nbsp;str&nbsp;=&nbsp;None,&nbsp;bt_id:&nbsp;str&nbsp;=&nbsp;None)<br>
&nbsp;<br>
Represents&nbsp;a&nbsp;single&nbsp;trade&nbsp;that&nbsp;could&nbsp;have&nbsp;been&nbsp;made.<br>
&nbsp;<br>
Attributes:<br>
&nbsp;&nbsp;&nbsp;&nbsp;open_dt&nbsp;(str):&nbsp;datetime&nbsp;trade&nbsp;was&nbsp;initiated<br>
&nbsp;&nbsp;&nbsp;&nbsp;open_epoch&nbsp;(int):&nbsp;epoch&nbsp;time&nbsp;of&nbsp;open_dt&nbsp;for&nbsp;sorting&nbsp;(autocalculated)<br>
&nbsp;&nbsp;&nbsp;&nbsp;direction&nbsp;(str):&nbsp;'long'&nbsp;or&nbsp;'short'<br>
&nbsp;&nbsp;&nbsp;&nbsp;timeframe&nbsp;(str):&nbsp;timeframe&nbsp;of&nbsp;the&nbsp;chart&nbsp;the&nbsp;<a href="#Trade">Trade</a>&nbsp;was&nbsp;created&nbsp;from<br>
&nbsp;&nbsp;&nbsp;&nbsp;trading_hours&nbsp;(str):&nbsp;regular&nbsp;trading&nbsp;hours&nbsp;(rth)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;extended/globex&nbsp;(eth)&nbsp;of&nbsp;the&nbsp;underlying&nbsp;chart<br>
&nbsp;&nbsp;&nbsp;&nbsp;entry_price&nbsp;(float):&nbsp;price&nbsp;at&nbsp;which&nbsp;trade&nbsp;was&nbsp;initiated<br>
&nbsp;&nbsp;&nbsp;&nbsp;stop_target&nbsp;(float):&nbsp;price&nbsp;at&nbsp;which&nbsp;trade&nbsp;would&nbsp;auto&nbsp;exit&nbsp;at&nbsp;loss<br>
&nbsp;&nbsp;&nbsp;&nbsp;prof_target&nbsp;(float):&nbsp;price&nbsp;at&nbsp;which&nbsp;trade&nbsp;would&nbsp;auto&nbsp;exit&nbsp;at&nbsp;profit<br>
&nbsp;&nbsp;&nbsp;&nbsp;close_dt&nbsp;(str):&nbsp;datetime&nbsp;trade&nbsp;was&nbsp;closed<br>
&nbsp;&nbsp;&nbsp;&nbsp;created_dt&nbsp;(str):&nbsp;datetime&nbsp;this&nbsp;<a href="builtins.html#object">object</a>&nbsp;was&nbsp;created<br>
&nbsp;&nbsp;&nbsp;&nbsp;high_price&nbsp;(float):&nbsp;highest&nbsp;price&nbsp;seen&nbsp;during&nbsp;trade<br>
&nbsp;&nbsp;&nbsp;&nbsp;low_price&nbsp;(float):&nbsp;lowest&nbsp;price&nbsp;seen&nbsp;during&nbsp;trade<br>
&nbsp;&nbsp;&nbsp;&nbsp;exit_price&nbsp;(float):&nbsp;price&nbsp;at&nbsp;which&nbsp;trade&nbsp;was&nbsp;closed<br>
&nbsp;&nbsp;&nbsp;&nbsp;stop_target&nbsp;(float):&nbsp;Target&nbsp;price&nbsp;at&nbsp;which&nbsp;trade&nbsp;should&nbsp;exit&nbsp;at&nbsp;a&nbsp;loss<br>
&nbsp;&nbsp;&nbsp;&nbsp;prof_target&nbsp;(float):&nbsp;Target&nbsp;price&nbsp;at&nbsp;which&nbsp;trade&nbsp;should&nbsp;exit&nbsp;at&nbsp;a&nbsp;gain<br>
&nbsp;&nbsp;&nbsp;&nbsp;stop_ticks&nbsp;(float):&nbsp;number&nbsp;of&nbsp;ticks&nbsp;to&nbsp;reach&nbsp;stop_target&nbsp;from&nbsp;entry,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;primarily&nbsp;used&nbsp;as&nbsp;trade&nbsp;rules&nbsp;identification&nbsp;during&nbsp;analysis<br>
&nbsp;&nbsp;&nbsp;&nbsp;prof_ticks&nbsp;(float):&nbsp;number&nbsp;of&nbsp;ticks&nbsp;to&nbsp;reach&nbsp;prof_target&nbsp;from&nbsp;entry,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;primarily&nbsp;used&nbsp;as&nbsp;trade&nbsp;rules&nbsp;identification&nbsp;during&nbsp;analysis<br>
&nbsp;&nbsp;&nbsp;&nbsp;offset_ticks&nbsp;(float):&nbsp;number&nbsp;of&nbsp;ticks&nbsp;away&nbsp;from&nbsp;target&nbsp;price&nbsp;that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this&nbsp;trade&nbsp;made&nbsp;entry,&nbsp;primarily&nbsp;used&nbsp;as&nbsp;trade&nbsp;rules<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;identification&nbsp;during&nbsp;analysis<br>
&nbsp;&nbsp;&nbsp;&nbsp;symbol&nbsp;(str):&nbsp;ticker&nbsp;being&nbsp;traded<br>
&nbsp;&nbsp;&nbsp;&nbsp;is_open&nbsp;(bool):&nbsp;True&nbsp;if&nbsp;trade&nbsp;has&nbsp;not&nbsp;yet&nbsp;been&nbsp;closed&nbsp;via&nbsp;.<a href="#Trade-close">close</a>()<br>
&nbsp;&nbsp;&nbsp;&nbsp;profitable&nbsp;(bool):&nbsp;True&nbsp;if&nbsp;trade&nbsp;made&nbsp;money<br>
&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;(str):&nbsp;Label&nbsp;for&nbsp;identifying&nbsp;groups&nbsp;of&nbsp;similar&nbsp;trades<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;such&nbsp;as&nbsp;those&nbsp;run&nbsp;by&nbsp;the&nbsp;same&nbsp;backtester<br>
&nbsp;&nbsp;&nbsp;&nbsp;version&nbsp;(str):&nbsp;Version&nbsp;of&nbsp;trade&nbsp;(for&nbsp;future&nbsp;use)<br>
&nbsp;&nbsp;&nbsp;&nbsp;ts_id&nbsp;(str):&nbsp;unique&nbsp;id&nbsp;of&nbsp;associated&nbsp;<a href="#TradeSeries">TradeSeries</a>&nbsp;this&nbsp;was&nbsp;created&nbsp;by<br>
&nbsp;&nbsp;&nbsp;&nbsp;bt_id&nbsp;(str):&nbsp;unique&nbsp;id&nbsp;of&nbsp;associated&nbsp;<a href="#Backtest">Backtest</a>&nbsp;this&nbsp;was&nbsp;created&nbsp;by<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="Trade-__eq__"><strong>__eq__</strong></a>(self, other)</dt><dd><tt>Return&nbsp;self==value.</tt></dd></dl>

<dl><dt><a name="Trade-__init__"><strong>__init__</strong></a>(self, open_dt: str, direction: str, timeframe: str, trading_hours: str, entry_price: float, close_dt: str = None, created_dt: str = None, open_epoch: int = None, high_price: float = None, low_price: float = None, exit_price: float = None, stop_target: float = None, prof_target: float = None, stop_ticks: int = None, prof_ticks: int = None, offset_ticks: int = 0, symbol='ES', is_open: bool = True, profitable: bool = None, name: str = None, version: str = '1.0.0', ts_id: str = None, bt_id: str = None)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="Trade-__ne__"><strong>__ne__</strong></a>(self, other)</dt><dd><tt>Return&nbsp;self!=value.</tt></dd></dl>

<dl><dt><a name="Trade-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Return&nbsp;repr(self).</tt></dd></dl>

<dl><dt><a name="Trade-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Return&nbsp;str(self).</tt></dd></dl>

<dl><dt><a name="Trade-balance_impact"><strong>balance_impact</strong></a>(self, balance_open: float, contracts: int, contract_value: float, contract_fee: float)</dt><dd><tt>Calculates&nbsp;and&nbsp;returns&nbsp;ending&nbsp;balance&nbsp;and&nbsp;gain/loss&nbsp;values&nbsp;for&nbsp;the<br>
trade&nbsp;given&nbsp;series&nbsp;specific&nbsp;inputs.&nbsp;&nbsp;Primarily&nbsp;used&nbsp;by&nbsp;<a href="#TradeSeries">TradeSeries</a>&nbsp;to<br>
loop&nbsp;through&nbsp;all&nbsp;<a href="#Trade">Trade</a>&nbsp;objects&nbsp;to&nbsp;evaluate&nbsp;ending&nbsp;gains&nbsp;and&nbsp;balances.</tt></dd></dl>

<dl><dt><a name="Trade-brief"><strong>brief</strong></a>(self)</dt><dd><tt>Return&nbsp;a&nbsp;single&nbsp;line&nbsp;summary&nbsp;string&nbsp;of&nbsp;this&nbsp;<a href="#Trade">Trade</a>'s&nbsp;vitals</tt></dd></dl>

<dl><dt><a name="Trade-candle_update"><strong>candle_update</strong></a>(self, candle)</dt><dd><tt>Incorporates&nbsp;a&nbsp;new&nbsp;candle&nbsp;into&nbsp;an&nbsp;open&nbsp;<a href="#Trade">Trade</a>,&nbsp;updating&nbsp;low&nbsp;and<br>
high&nbsp;price&nbsp;attributes&nbsp;and&nbsp;checking&nbsp;for&nbsp;trade&nbsp;closing&nbsp;triggers.</tt></dd></dl>

<dl><dt><a name="Trade-close"><strong>close</strong></a>(self, price: float, dt)</dt><dd><tt>Closes&nbsp;the&nbsp;trade&nbsp;at&nbsp;the&nbsp;price&nbsp;given,&nbsp;finalizing&nbsp;related&nbsp;attributes.</tt></dd></dl>

<dl><dt><a name="Trade-closed_intraday"><strong>closed_intraday</strong></a>(self)</dt><dd><tt>Returns&nbsp;true&nbsp;if&nbsp;<a href="#Trade">Trade</a>&nbsp;closes&nbsp;on&nbsp;the&nbsp;same&nbsp;market&nbsp;trading&nbsp;day&nbsp;that&nbsp;it<br>
was&nbsp;opened&nbsp;on</tt></dd></dl>

<dl><dt><a name="Trade-delete_from_storage"><strong>delete_from_storage</strong></a>(self)</dt><dd><tt>Delete&nbsp;this&nbsp;<a href="#Trade">Trade</a>&nbsp;from&nbsp;central&nbsp;storage&nbsp;if&nbsp;it&nbsp;exists</tt></dd></dl>

<dl><dt><a name="Trade-drawdown_impact"><strong>drawdown_impact</strong></a>(self, drawdown_open: float, drawdown_limit: float, contracts: int, contract_value: float, contract_fee: float)</dt><dd><tt>Calculates&nbsp;and&nbsp;returns&nbsp;resulting&nbsp;values&nbsp;of&nbsp;drawdown&nbsp;range&nbsp;and&nbsp;ending<br>
values&nbsp;seen&nbsp;during&nbsp;the&nbsp;trade&nbsp;for&nbsp;given&nbsp;series&nbsp;specific&nbsp;inputs.<br>
Primarily&nbsp;used&nbsp;by&nbsp;<a href="#TradeSeries">TradeSeries</a>&nbsp;to&nbsp;loop&nbsp;through&nbsp;all&nbsp;<a href="#Trade">Trade</a><br>
objects&nbsp;checking&nbsp;for&nbsp;drawdown&nbsp;liquidations</tt></dd></dl>

<dl><dt><a name="Trade-parent_bar_secs"><strong>parent_bar_secs</strong></a>(self)</dt><dd><tt>Returns&nbsp;the&nbsp;number&nbsp;of&nbsp;seconds&nbsp;that&nbsp;elapsed&nbsp;between&nbsp;the&nbsp;opening&nbsp;of<br>
the&nbsp;'parent&nbsp;bar'&nbsp;(the&nbsp;timeframe&nbsp;specific&nbsp;bar&nbsp;within&nbsp;which&nbsp;this&nbsp;<a href="#Trade">Trade</a><br>
opened)&nbsp;and&nbsp;the&nbsp;opening&nbsp;of&nbsp;this&nbsp;<a href="#Trade">Trade</a>.</tt></dd></dl>

<dl><dt><a name="Trade-pretty"><strong>pretty</strong></a>(self)</dt><dd><tt>Attempts&nbsp;to&nbsp;return&nbsp;an&nbsp;indented&nbsp;multiline&nbsp;version&nbsp;of&nbsp;this&nbsp;<a href="builtins.html#object">object</a>,<br>
meant&nbsp;to&nbsp;provide&nbsp;an&nbsp;easy&nbsp;to&nbsp;read&nbsp;output&nbsp;for&nbsp;console&nbsp;or&nbsp;other&nbsp;purposes.<br>
Optionally&nbsp;suppress_datapoints&nbsp;to&nbsp;reduce&nbsp;output&nbsp;size&nbsp;when&nbsp;not&nbsp;needed.</tt></dd></dl>

<dl><dt><a name="Trade-store"><strong>store</strong></a>(self)</dt><dd><tt>Store&nbsp;this&nbsp;<a href="#Trade">Trade</a>&nbsp;in&nbsp;central&nbsp;storage</tt></dd></dl>

<dl><dt><a name="Trade-to_clean_dict"><strong>to_clean_dict</strong></a>(self)</dt><dd><tt>Converts&nbsp;to&nbsp;JSON&nbsp;string&nbsp;then&nbsp;back&nbsp;to&nbsp;a&nbsp;python&nbsp;dict.&nbsp;&nbsp;This&nbsp;helps<br>
to&nbsp;normalize&nbsp;types&nbsp;(I'm&nbsp;looking&nbsp;at&nbsp;YOU&nbsp;datetime)&nbsp;while&nbsp;ensuring<br>
a&nbsp;portable&nbsp;python&nbsp;data&nbsp;structure</tt></dd></dl>

<dl><dt><a name="Trade-to_json"><strong>to_json</strong></a>(self)</dt><dd><tt>returns&nbsp;a&nbsp;json&nbsp;version&nbsp;of&nbsp;this&nbsp;<a href="#Trade">Trade</a>&nbsp;<a href="builtins.html#object">object</a>&nbsp;while&nbsp;normalizing<br>
custom&nbsp;types&nbsp;for&nbsp;json&nbsp;compatibility&nbsp;(i.e.&nbsp;datetime&nbsp;to&nbsp;string)</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<hr>
Data and other attributes defined here:<br>
<dl><dt><strong>__hash__</strong> = None</dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="TradeSeries">class <strong>TradeSeries</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt><a href="#TradeSeries">TradeSeries</a>(start_dt,&nbsp;end_dt,&nbsp;timeframe:&nbsp;str,&nbsp;trading_hours:&nbsp;str,&nbsp;symbol='ES',&nbsp;name:&nbsp;str&nbsp;=&nbsp;'',&nbsp;params_str:&nbsp;str&nbsp;=&nbsp;'',&nbsp;ts_id:&nbsp;str&nbsp;=&nbsp;None,&nbsp;bt_id:&nbsp;str&nbsp;=&nbsp;None,&nbsp;trades:&nbsp;list&nbsp;=&nbsp;None)<br>
&nbsp;<br>
Represents&nbsp;a&nbsp;series&nbsp;of&nbsp;trades&nbsp;presumably&nbsp;following&nbsp;the&nbsp;same&nbsp;rules<br>
&nbsp;<br>
Attributes:<br>
&nbsp;&nbsp;&nbsp;&nbsp;start_dt&nbsp;(str&nbsp;or&nbsp;datetime):&nbsp;Beginning&nbsp;of&nbsp;time&nbsp;period&nbsp;evaluated&nbsp;which<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;may&nbsp;be&nbsp;earlier&nbsp;than&nbsp;the&nbsp;first&nbsp;trade&nbsp;datetime<br>
&nbsp;&nbsp;&nbsp;&nbsp;end_dt&nbsp;(str&nbsp;or&nbsp;datetime):&nbsp;End&nbsp;of&nbsp;time&nbsp;period&nbsp;evaluated<br>
&nbsp;&nbsp;&nbsp;&nbsp;timeframe&nbsp;(str):&nbsp;timeframe&nbsp;of&nbsp;underlying&nbsp;chart&nbsp;trades&nbsp;were&nbsp;evaluated<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from<br>
&nbsp;&nbsp;&nbsp;&nbsp;trading_hours&nbsp;(str):&nbsp;trading_hours&nbsp;of&nbsp;underlying&nbsp;chart&nbsp;trades&nbsp;were<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;evaluated&nbsp;from<br>
&nbsp;&nbsp;&nbsp;&nbsp;symbol&nbsp;(str):&nbsp;The&nbsp;symbol&nbsp;or&nbsp;"ticker"&nbsp;being&nbsp;evaluated<br>
&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;(str):&nbsp;Human&nbsp;friendly&nbsp;label&nbsp;representing&nbsp;this&nbsp;<a href="builtins.html#object">object</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;params_str&nbsp;(str):&nbsp;Represents&nbsp;<a href="#Backtest">Backtest</a>&nbsp;or&nbsp;trade&nbsp;specific&nbsp;parameters<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;be&nbsp;passed&nbsp;in&nbsp;by&nbsp;creating&nbsp;objects&nbsp;and&nbsp;functions.&nbsp;&nbsp;This&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;used&nbsp;to&nbsp;generate&nbsp;a&nbsp;unique&nbsp;ts_id&nbsp;in&nbsp;backtesting&nbsp;strategies&nbsp;so&nbsp;that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;multiple&nbsp;similar&nbsp;and&nbsp;related&nbsp;<a href="#TradeSeries">TradeSeries</a>&nbsp;can&nbsp;be&nbsp;differentiated,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stored,&nbsp;and&nbsp;retrieved&nbsp;effectively&nbsp;where&nbsp;needed&nbsp;even&nbsp;if&nbsp;created<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;simultaneously&nbsp;with&nbsp;the&nbsp;same&nbsp;epoch&nbsp;value.<br>
&nbsp;&nbsp;&nbsp;&nbsp;ts_id&nbsp;(str):&nbsp;unique&nbsp;ID&nbsp;used&nbsp;for&nbsp;storage&nbsp;and&nbsp;analysis&nbsp;purposes,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;link&nbsp;related&nbsp;<a href="#Trade">Trade</a>()&nbsp;and&nbsp;<a href="#Backtest">Backtest</a>()&nbsp;objects<br>
&nbsp;&nbsp;&nbsp;&nbsp;bt_id&nbsp;(str):&nbsp;bt_id&nbsp;of&nbsp;the&nbsp;<a href="#Backtest">Backtest</a>()&nbsp;<a href="builtins.html#object">object</a>&nbsp;that&nbsp;created&nbsp;this&nbsp;if&nbsp;any<br>
&nbsp;&nbsp;&nbsp;&nbsp;trades&nbsp;(list):&nbsp;list&nbsp;of&nbsp;trades&nbsp;in&nbsp;the&nbsp;series<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="TradeSeries-__eq__"><strong>__eq__</strong></a>(self, other)</dt><dd><tt>Return&nbsp;self==value.</tt></dd></dl>

<dl><dt><a name="TradeSeries-__init__"><strong>__init__</strong></a>(self, start_dt, end_dt, timeframe: str, trading_hours: str, symbol='ES', name: str = '', params_str: str = '', ts_id: str = None, bt_id: str = None, trades: list = None)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="TradeSeries-__ne__"><strong>__ne__</strong></a>(self, other)</dt><dd><tt>Return&nbsp;self!=value.</tt></dd></dl>

<dl><dt><a name="TradeSeries-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Return&nbsp;repr(self).</tt></dd></dl>

<dl><dt><a name="TradeSeries-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Return&nbsp;str(self).</tt></dd></dl>

<dl><dt><a name="TradeSeries-add_trade"><strong>add_trade</strong></a>(self, trade)</dt></dl>

<dl><dt><a name="TradeSeries-balance_impact"><strong>balance_impact</strong></a>(self, balance_open: float, contracts: int, contract_value: float, contract_fee: float, include_first_min: bool = True)</dt><dd><tt>Runs&nbsp;through&nbsp;current&nbsp;trades&nbsp;list,&nbsp;calculating&nbsp;changes&nbsp;to&nbsp;a&nbsp;running<br>
account&nbsp;balance&nbsp;starting&nbsp;with&nbsp;balance_open.&nbsp;&nbsp;Returns&nbsp;high,&nbsp;low,&nbsp;and<br>
ending&nbsp;balance.</tt></dd></dl>

<dl><dt><a name="TradeSeries-count_trades"><strong>count_trades</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;number&nbsp;of&nbsp;Trades&nbsp;currently&nbsp;attached</tt></dd></dl>

<dl><dt><a name="TradeSeries-delete_from_storage"><strong>delete_from_storage</strong></a>(self, include_trades: bool = True)</dt><dd><tt>Delete&nbsp;this&nbsp;<a href="builtins.html#object">object</a>&nbsp;from&nbsp;central&nbsp;storage&nbsp;if&nbsp;it&nbsp;exists&nbsp;by&nbsp;ts_id.<br>
Optionally&nbsp;(default=True)&nbsp;also&nbsp;remove&nbsp;all&nbsp;<a href="#Trade">Trade</a>&nbsp;objects<br>
matching&nbsp;this&nbsp;<a href="builtins.html#object">object</a>'s&nbsp;ts_id.</tt></dd></dl>

<dl><dt><a name="TradeSeries-drawdown_impact"><strong>drawdown_impact</strong></a>(self, drawdown_open: float, drawdown_limit: float, contracts: int, contract_value: float, contract_fee: float, include_first_min: bool = True)</dt><dd><tt>Runs&nbsp;through&nbsp;current&nbsp;trades&nbsp;list,&nbsp;calculating&nbsp;changes&nbsp;to&nbsp;a&nbsp;running<br>
account&nbsp;drawdown&nbsp;starting&nbsp;with&nbsp;drawdown_open.&nbsp;&nbsp;Returns&nbsp;high,&nbsp;low,&nbsp;and<br>
ending&nbsp;drawdown.</tt></dd></dl>

<dl><dt><a name="TradeSeries-get_trade_by_open_dt"><strong>get_trade_by_open_dt</strong></a>(self, dt)</dt><dd><tt>Return&nbsp;the&nbsp;first&nbsp;trade&nbsp;found&nbsp;with&nbsp;open_dt&nbsp;matching&nbsp;the&nbsp;provided<br>
datetime,&nbsp;or&nbsp;None&nbsp;if&nbsp;nothing&nbsp;matches.</tt></dd></dl>

<dl><dt><a name="TradeSeries-list_trades"><strong>list_trades</strong></a>(self)</dt><dd><tt>Prints&nbsp;the&nbsp;results&nbsp;of&nbsp;<a href="#TradeSeries-trades_brief">trades_brief</a>()</tt></dd></dl>

<dl><dt><a name="TradeSeries-load_trades"><strong>load_trades</strong></a>(self)</dt><dd><tt>Clear&nbsp;all&nbsp;attached&nbsp;Trades&nbsp;then&nbsp;retrieve&nbsp;and&nbsp;attach&nbsp;all&nbsp;Trades<br>
matching&nbsp;this&nbsp;ts_id&nbsp;from&nbsp;storage</tt></dd></dl>

<dl><dt><a name="TradeSeries-pretty"><strong>pretty</strong></a>(self, suppress_trades: bool = True)</dt><dd><tt>Attempts&nbsp;to&nbsp;return&nbsp;an&nbsp;indented&nbsp;multiline&nbsp;version&nbsp;of&nbsp;this&nbsp;<a href="builtins.html#object">object</a>,<br>
meant&nbsp;to&nbsp;provide&nbsp;an&nbsp;easy&nbsp;to&nbsp;read&nbsp;output&nbsp;for&nbsp;console&nbsp;or&nbsp;other&nbsp;purposes.<br>
Optionally&nbsp;suppress_datapoints&nbsp;to&nbsp;reduce&nbsp;output&nbsp;size&nbsp;when&nbsp;not&nbsp;needed.</tt></dd></dl>

<dl><dt><a name="TradeSeries-restrict_dates"><strong>restrict_dates</strong></a>(self, new_start_dt: str, new_end_dt: str, update_storage: bool = False)</dt><dd><tt>Reduce&nbsp;the&nbsp;date&nbsp;range&nbsp;of&nbsp;the&nbsp;<a href="#TradeSeries">TradeSeries</a>&nbsp;and&nbsp;remove&nbsp;any&nbsp;Trades&nbsp;that<br>
are&nbsp;no&nbsp;longer&nbsp;in&nbsp;bounds</tt></dd></dl>

<dl><dt><a name="TradeSeries-sort_trades"><strong>sort_trades</strong></a>(self)</dt></dl>

<dl><dt><a name="TradeSeries-stats"><strong>stats</strong></a>(self, include_first_min=True)</dt><dd><tt>Return&nbsp;useful&nbsp;statistics&nbsp;calculated&nbsp;from&nbsp;the&nbsp;attached&nbsp;Trades</tt></dd></dl>

<dl><dt><a name="TradeSeries-store"><strong>store</strong></a>(self, store_trades: bool = False)</dt></dl>

<dl><dt><a name="TradeSeries-to_clean_dict"><strong>to_clean_dict</strong></a>(self, suppress_trades: bool = True)</dt><dd><tt>Converts&nbsp;to&nbsp;JSON&nbsp;string&nbsp;then&nbsp;back&nbsp;to&nbsp;a&nbsp;python&nbsp;dict.&nbsp;&nbsp;This&nbsp;helps<br>
to&nbsp;normalize&nbsp;types&nbsp;(I'm&nbsp;looking&nbsp;at&nbsp;YOU&nbsp;datetime)&nbsp;while&nbsp;ensuring<br>
a&nbsp;portable&nbsp;python&nbsp;data&nbsp;structure</tt></dd></dl>

<dl><dt><a name="TradeSeries-to_json"><strong>to_json</strong></a>(self, suppress_trades: bool = True)</dt><dd><tt>returns&nbsp;a&nbsp;json&nbsp;version&nbsp;of&nbsp;this&nbsp;<a href="builtins.html#object">object</a>&nbsp;while&nbsp;normalizing<br>
custom&nbsp;types&nbsp;(like&nbsp;datetime&nbsp;to&nbsp;string)</tt></dd></dl>

<dl><dt><a name="TradeSeries-trades_brief"><strong>trades_brief</strong></a>(self)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;one&nbsp;line&nbsp;brief&nbsp;summaries&nbsp;of&nbsp;all&nbsp;Trades'&nbsp;vitals<br>
in&nbsp;this&nbsp;<a href="#TradeSeries">TradeSeries</a></tt></dd></dl>

<dl><dt><a name="TradeSeries-update_bt_id"><strong>update_bt_id</strong></a>(self, bt_id)</dt><dd><tt>Update&nbsp;bt_id&nbsp;on&nbsp;this&nbsp;and&nbsp;any&nbsp;attached&nbsp;<a href="#Trade">Trade</a>&nbsp;objects.&nbsp;&nbsp;Typicaly<br>
called&nbsp;by&nbsp;a&nbsp;<a href="#Backtest">Backtest</a>&nbsp;when&nbsp;adding&nbsp;this&nbsp;<a href="builtins.html#object">object</a>&nbsp;to&nbsp;it's&nbsp;list.</tt></dd></dl>

<dl><dt><a name="TradeSeries-weekly_stats"><strong>weekly_stats</strong></a>(self, include_first_min: bool = True)</dt><dd><tt>Return&nbsp;useful&nbsp;statistics&nbsp;calculated&nbsp;from&nbsp;the&nbsp;attached&nbsp;Trades<br>
aggregated&nbsp;into&nbsp;weekly&nbsp;buckets&nbsp;using&nbsp;Monday&nbsp;as&nbsp;the&nbsp;start&nbsp;of&nbsp;the&nbsp;week<br>
and&nbsp;Monday's&nbsp;date&nbsp;as&nbsp;the&nbsp;name&nbsp;of&nbsp;each&nbsp;bucket.</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<hr>
Data and other attributes defined here:<br>
<dl><dt><strong>__hash__</strong> = None</dl>

</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>log</strong> = &lt;Logger dhtrades (WARNING)&gt;</td></tr></table>
</body></html>